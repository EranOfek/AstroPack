# Class: ImageIO



    
      
      
      

### Functions List

    ImageIO - Construct an ImageIO object with optionaly reading data.
    read1 - read a single image/table file with header in fits/hdf5/other format
    unitTest - unitTest for ImageIO class
    write1 - Write a single data array into a file
    writeHDF5 - Save matrix data to HDF5 file with possible attributes

### ImageIO

Construct an ImageIO object with optionaly reading data.


    
    Construct an ImageIO object with optionaly reading data.  
    Input  : - Either:  
    [] - will return a single element empty object.  
    [N, M,...] - will return an empty objects  
    which size is [N, M,...].  
    A table to put in the Data property.  
    A cell array of matrices to put in the Data  
    property.  
    FileName with or without wild cards or regexp,  
    or a cell of file names to read.  
    * ...,key,val',...  
    'HDU' - HDU number of HDF5 dataset name.  
    Default is 1.  
    'FileType' - [] will attempt to identify  
    automatically. Otherwise, 'fits' | 'hdf5'.  
    Default is [].  
    'ReadHeader' - Default is true.  
    'IsTable' - True if attempt to read table.  
    Default is false.  
    'UseRegExp' - Use regexp (true) in  
    io.file.filelist. Default is false.  
    'CCDSEC' - CCDSEC for image to read [Xmin Xmax  
    Ymin Ymax]. If empty, read the entire image.  
    Default is [].  
    'readTableArgs' - A cell array of additional  
    arguments to pass to FITS.readTable1.  
    Default is {}.  
    Output : - An ImageIO object.  
    Example: I = ImageIO  
    I = ImageIO([2, 2]);  
    I = ImageIO('asu.fit','IsTable',true);  
    I = ImageIO('WFPC2ASSNu5780205bx.fits','ReadHeader',0)  
    I = ImageIO('WFPC2ASSNu5780205bx.fits','CCDSEC',[1 10 1 10])  
    I = ImageIO({rand(2,2),rand(3,3)});  
    I = ImageIO({'WFPC2ASSNu5780205bx.fits','WFPC2u5780205r_c0fx.fits'});  
    I = ImageIO('*.fits')  
      


### read1

read a single image/table file with header in fits/hdf5/other format


    
    read a single image/table file with header in fits/hdf5/other format  
    Input  : - File name.  
    * ...,key,val,...  
    'ReadData' - Read data (image or table).  
    Default is true.  
    'HDU' - HDU number of HDF5 dataset name.  
    Default is 1.  
    'FileType' - [] will attempt to identify  
    automatically. Otherwise, 'fits' | 'hdf5'.  
    Default is [].  
    'IsTable' - True if attempt to read table.  
    Default is false.  
    'CCDSEC' - CCDSEC for image to read [Xmin Xmax  
    Ymin Ymax]. If empty, read the entire image.  
    Default is [].  
    'readTableArgs' - A cell array of additional  
    arguments to pass to FITS.readTable1.  
    Default is {}.  
    Output : - Data. Either image matrix, or table of table data.  
    - Header (3 columns cell array).  
    Author : Eran Ofek (Apr 2021)  
    Example: [D,H]=ImageIO.read1('asu.fit','IsTable',1);  
    [D,H]=ImageIO.read1('WFPC2ASSNu5780205bx.fits');  
    [D,H]=ImageIO.read1('WFPC2ASSNu5780205bx.fits','CCDSEC',[1 10 1 10]);  
    [D]=ImageIO.read1('WFPC2ASSNu5780205bx.fits');  
    [D,H]=ImageIO.read1('WFPC2ASSNu5780205bx.fits','ReadData',false);  
      


### unitTest

unitTest for ImageIO class


    
    unitTest for ImageIO class  


### write1

Write a single data array into a file


    
    Write a single data array into a file  
    Input  : - Image/table data.  
    This can be a matrix, table, AstroImage,  
    ImageComponent.  
    - File name to save (with or without full path; see  
    also Args.Dir).  
    If empty, will generate a tmp file name.  
    Default is empty.  
    * ...,key,val,...  
    'Dir' - Directory name in which to save the image.  
    If empty, use current dir.  
    Default is ''.  
    'Header' - An header (3 col cell array).  
    or an AstroHeader object.  
    Default is {}.  
    'HDU' - FITS HDU number, or HDF5 dataset name.  
    Default is 1.  
    'FileType' - File type to save:  
    'fits'  
    {'hdf5','h5z','h5','hd5'}  
    'matflat' - save Data and Header in flat  
    mat file.  
    'matstruct' - save structure with data and  
    Header fields.  
    {'jpg','tif','tiff','gif','png','bmp','hdf','jp2','jpx','jpeg','pcx','pgm'}  
    Use imwrite.m  
    'DataProp' - If input is AstroImage, or  
    ImageComponent, read the data from this property.  
    'DataType' - Data Type of Data to save.  
    If empty, then use the original Data data  
    type. Default is empty.  
    'IsTable' - A logical indicating if data is a  
    table to save. Default is false.  
    'ColNames' - A cell array of table column names.  
    'ColUnits' - A cell arrat of table units names.  
    'CCDSEC' - CCDSEC to save. If empty, save full  
    image. Default is [].  
    'Append' - Append image as a multi extension to an  
    existing FITS file. Default is false.  
    'OverWrite'- Overwrite an existing image. Default  
    is false.  
    'WriteTime'- Add creation time to image header.  
    Default is false.  
    'MatVersion' - MAT file version.  
    Default is '-v7.3'.  
    Output : - File name.  
    Author : Eran Ofek (Jul 2021)  
    Example: ImageIO.write1(rand(10,10),'tmp.fits')  
      


### writeHDF5

Save matrix data to HDF5 file with possible attributes


    
    Save matrix data to HDF5 file with possible attributes  
    Input  : - data matrix to save.  
    - File name.  
    * ...,key,val,...  
    'DataSet' - HDF5 dataset. Default is '/cat'.  
    'Header' - A two column cell array with header  
    information. Default is {}.  
    'ColNames' - This argument is ignored if Header is  
    provided. This is a cell vector of column  
    names.  
    'ColUnits' - Like column name but for units.  
    Output : null  
    Author : Eran Ofek (Oct 2021)  
    Example: ImageIO.writeHDF5(rand(100,3),'ab.h5','ColNames',{'a','b','c'});  
      


