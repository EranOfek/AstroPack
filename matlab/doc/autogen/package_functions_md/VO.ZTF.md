# Package: VO.ZTF


### VO.ZTF.irsa_image_link

Construct links to ZTF images from properties structure Package: VO.ZTF Description: Construct links to ZTF images from properties structure.


    
    Construct links to ZTF images from properties structure  
    Package: VO.ZTF  
    Description: Construct links to ZTF images from properties structure.  
    Input  : - Properties structure generated by VO.ZTF.table2prop.  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'BaseURL' - Default is:  
    'https://irsa.ipac.caltech.edu/ibe/data/ztf/products/'.  
    Output : - Cell array of links to images.  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Jan 2018  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: Link=VO.ZTF.irsa_image_link(Prop)  
    Reliable: 2  
      
      
### VO.ZTF.irsa_query_ztf_images

Query ZTF images from the IRSA/IPAC database Package: VO.ZTF Description: Query ZTF images from the IRSA/IPAC database. Either raw, science, cal images can be queried by position and metadata.


    
    Query ZTF images from the IRSA/IPAC database  
    Package: VO.ZTF  
    Description: Query ZTF images from the IRSA/IPAC database. Either raw,  
    science, cal images can be queried by position and metadata.  
    Input  : - J2000.0 R.A. [radians, [H M S], or sexagesimal string], or  
    a string containing object name (e.g., 'm31').  
    If empty, then the query is done without position (only the  
    WHERE clause).  
    - J2000.0 R.A. [radians, [sign D M S], or sexagesimal string].  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'ImType'  - ZTF image type to query: 'sci' | 'raw' | 'cal'.  
    Default is 'sci'.  
    'OutType' - Output table type: 'mat' | 'astcat'.  
    Default is 'astcat'.  
    'Size'    - Position search size (heiht, [width]) [deg].  
    Default is 0.  
    'SizeUnits'- Position search size units.  
    Default is 'deg'.  
    'User'    - String containing the IRSA/IPAC user name, or a  
    a cell array containing a file name of user/pass.  
    Default is  
    {'/home/eran/matlab/passwords/ztf_ipac_pass'}.  
    'Pass'    - String containing the IRSA/IPAC password,.  
    Default is [].  
    'NameServer'- Name server function for interpreting the object  
    name. Default is @VO.name.server_ned.  
    'Where'   - String containing WHERE clause (e.g.,  
    'field=600 and ccdid=2'). Default is ''.  
    'Intersect'- Options are: 'COVERS' | 'ENCLOSED' | 'CENTER' |  
    'OVERLAPS'.  
    Default is 'OVERLAPS'.  
    See https://irsa.ipac.caltech.edu/docs/program_interface/ztf_api.html  
    'wgetProg'- Options are: 'wget' | 'curl'.  
    Default is 'wget'.  
    'BaseURL' - Query website base URL:  
    Default is 'https://irsa.ipac.caltech.edu'.  
    'AccountURL'- Default is '/account/signon/login.do'.  
    'DataURL'   - Default is '/ibe/search/ztf/products/'.  
    'CookiesFile' - Cookies file name 'cookies.txt'.  
    'OutTable'  - Output table. Default is 'out.tbl'.  
    'DelOut'  - Delete output table. Default is true.  
    Output : - A matrix or an AstCat object containing the table of queried  
    images.  
    - A cell array of column names.  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Jan 2018  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: T=VO.ZTF.irsa_query_ztf_images(358./RAD,23./RAD);  query by pos  
    T=VO.ZTF.irsa_query_ztf_images('m31');             query ny name  
    T=VO.ZTF.irsa_query_ztf_images([],[],'Where','field=600 and ccdid=2');  
    T=VO.ZTF.irsa_query_ztf_images([],[],'Where','obsjd>2458058 and obsjd<2458060');  
    T=VO.ZTF.irsa_query_ztf_images([],[],'Where','field=600 and ccdid=2','ImType','raw');  
    Reliable: 2  
      
      
### VO.ZTF.irsa_set_cookies

Set user/pass cookies for IRSA query Package: VO.ZTF Description: Set user/pass cookies for IRSA query


    
    Set user/pass cookies for IRSA query  
    Package: VO.ZTF  
    Description: Set user/pass cookies for IRSA query  
    Input  : * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'User'    - String containing the IRSA/IPAC user name, or a  
    a cell array containing a file name of user/pass.  
    Default is  
    {'/home/eran/matlab/passwords/ztf_ipac_pass'}.  
    'Pass'    - String containing the IRSA/IPAC password,.  
    Default is [].  
    'wgetProg'- Options are: 'wget' | 'curl'.  
    Default is 'wget'.  
    'BaseURL' - Query website base URL:  
    Default is 'https://irsa.ipac.caltech.edu'.  
    'AccountURL'- Default is '/account/signon/login.do'.  
    'CookiesFile' - Cookies file name 'cookies.txt'.  
    Output : - Status.  
    - Result string.  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Jan 2018  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: [Stat,Res]=VO.ZTF.irsa_set_cookies;  
    Reliable:  
      
      
### VO.ZTF.irsa_table2prop

Table of queried ZTF image to properties structure Package: VO.ZTF Description: Table of queried ZTF image to properties structure.


    
    Table of queried ZTF image to properties structure  
    Package: VO.ZTF  
    Description: Table of queried ZTF image to properties structure.  
    Input  : - Catalog (output of VO.ZTF.query_ztf_images)  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'ImType'  - Image type. Default is 'sci'.  
    'Product' - Product type. Default is 'sci'.  
    Output : - Structure array of images.  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Jan 2018  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: Prop=VO.ZTF.irsa_table2prop(T)  
    Reliable: 2  
      
      
### VO.ZTF.loopLC_ztf_HDF_matched

SHORT DESCRIPTION HERE Package: VO Description:


    
    SHORT DESCRIPTION HERE  
    Package: VO  
    Description:  
    Input  : -  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    Output : -  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Oct 2019  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: VO.ZTF.loopLC_ztf_HDF_matched(Cat)  
    Reliable:  
      
      
      
### VO.ZTF.read_ipac_ztfforcedphot

Read ZTF forced photometry file Package: VO.ZTF Description: Read ZTF forced photometry file generated using VO.ZTF.wget_irsa_forcedphot_diff


    
    Read ZTF forced photometry file  
    Package: VO.ZTF  
    Description: Read ZTF forced photometry file generated using  
    VO.ZTF.wget_irsa_forcedphot_diff  
    Input  : - File name  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    Output : - Table with data  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Mar 2019  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: [Table,FilterList]=VO.ZTF.read_ipac_ztfforcedphot('forcedphotometry_req00000265_lc.txt');  
    Reliable:  
      
      
      
### VO.ZTF.read_ztf_HDF_matched

Read ZTF matched light curves from local HDF5 light curve files. Package: VO.ZTF Description: Read ZTF matched light curves from local HDF5 light curve files. The HDF5 files are distributed as part of the catsHTM catalogs.


    
    Read ZTF matched light curves from local HDF5 light curve files.  
    Package: VO.ZTF  
    Description: Read ZTF matched light curves from local HDF5 light curve  
    files. The HDF5 files are distributed as part of the catsHTM  
    catalogs.  
    Input  : - ZTF field number.  
    - [start end] lines to read. The lines for a given source are  
    available in I1 and I2 in the 'ztfSrcLCDR1' catsHTM catalog.  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'FileTemp' - File template name. Default is  
    'ztfLCDR1_06d.hdf5'.  
    'ColCell'  - Column names for catalog.  
    Default is  
    {'HMJD','Mag','MagErr','ColorCoef','Flags'}.  
    Output : - Catalog  
    - ColCell  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Jul 2019  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: Cat=VO.ZTF.read_ztf_HDF_matched(686,[1 100])  
    Cat=VO.ZTF.read_ztf_HDF_matched(703,[38104798    38104901])  
    Reliable: 2  
      
      
      
### VO.ZTF.read_ztf_HDF_matched_coo

Get ZTF/DR1 light curves for source by coordinates Package: VO.ZTF Description: Get ZTF/DR1 light curves for source by coordinates


    
    Get ZTF/DR1 light curves for source by coordinates  
    Package: VO.ZTF  
    Description: Get ZTF/DR1 light curves for source by coordinates  
    Input  : - J2000.0 R.A. [radians].  
    - J2000.0 Dec. [radians].  
    - Filter index. Default is 1 (g).  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'ColCell' - Output columns (cell array).  
    'SearchRadius' - Search radius for source (arcsec).  
    Default is 2.  
    Output : - Light curve matrix.  
    - Cell array of column names  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Oct 2019  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: [Cat,ColCell]=VO.ZTF.read_ztf_HDF_matched_coo(1.4015719,0.5171304,1)  
    Reliable: 2  
      
      
      
### VO.ZTF.read_ztf_ascii_matched_lc

Read ZTF ascii file of matched light curves Package: VO.ZTF Description: Read ZTF ascii file of matched light curves. Optionally save the data and meta data in an HDF5 file. The matched light curves files and description are


    
    Read ZTF ascii file of matched light curves  
    Package: VO.ZTF  
    Description: Read ZTF ascii file of matched light curves.  
    Optionally save the data and meta data in an HDF5 file.  
    The matched light curves files and description are  
    available from:  
    https://www.ztf.caltech.edu/page/dr1#12c  
    Input  : - A string of the txt file name or a numeric scalar of  
    the ZTF field ID.  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'FileNamePrefix' - Default is 'field'.  
    'FileNameSuffix' - Default is '.txt'.  
    Output : - Structure array of all sources with their light curves.  
    Available fields are:  
    'ID' - Source ID  
    'Nep' - Number of epochs  
    'FilterID' - Filter ID  
    'Field' - ZTF field index.  
    'RcID' - Readout channel ID (CCD/quad) 0 to 63  
    'RA' - J2000.0 R.A. [deg] of source in reference image.  
    'Dec' - J2000.0 Dec. [deg] of source in reference image.  
    'LC' - Array of source lightcurve [columns X times]  
    - Cell array of columns in the LC array.  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Jun 2019  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: [Data,ColCell]=VO.ZTF.read_ztf_ascii_matched_lc(868);  
    example: convert all txt files to HDF5 including statistical properties  
    F=dir('field*.txt');  
    for I=1:1:10  
    numel(F),  
    I  
    FI=str2double(F(I).name(6:11));  
    FN=sprintf('ztfLCDR1_06d.hdf5',FI)  
    [~,ColCell]=VO.ZTF.read_ztf_ascii_matched_lc(FI,'H5_FileName',FN);  
    end  
    Reliable: 2  
      
      
### VO.ZTF.wget_irsa_forcedphot_diff

Send a forced photometry request to ZTF archive Package: VO.ZTF Description: Send a forced photometry on subtraction images request to ZTF archive. See more details in:


    
    Send a forced photometry request to ZTF archive  
    Package: VO.ZTF  
    Description: Send a forced photometry on subtraction images request to  
    ZTF archive.  
    See more details in:  
    http://web.ipac.caltech.edu/staff/fmasci/ztf/forcedphot.pdf  
    Input  : - J2000 RA [deg]  
    - J2000 Dec [deg]  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'User'    - String containing the IRSA/IPAC user name, or a  
    a cell array containing a file name of user/pass.  
    Default is  
    {'/home/eran/matlab/passwords/ztf_ipac_pass'}.  
    'Pass'    - String containing the IRSA/IPAC password,.  
    Default is [].  
    Output : -  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Mar 2019  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: [Stat,Res]=VO.ZTF.wget_irsa_forcedphot_diff(234.053641,+39.733489);  
    Reliable:  
      
      
    RA = 280.8058788;  
    Dec = 45.2077645;  
      
    RA = 241.518638;  
    Dec = 36.871243;  
      
### VO.ZTF.wget_ztf_images_irsa

Query and retrieve ZTF images from the IRSA archive Package: VO.ZTF Description: Query and retrieve ZTF images from the IRSA archive.


    
    Query and retrieve ZTF images from the IRSA archive  
    Package: VO.ZTF  
    Description: Query and retrieve ZTF images from the IRSA archive.  
    Input  : - J2000.0 R.A. [radians, [H M S], or sexagesimal string], or  
    a string containing object name (e.g., 'm31').  
    If empty, then the query is done without position (only the  
    WHERE clause).  
    - J2000.0 R.A. [radians, [sign D M S], or sexagesimal string].  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'GetFiles'- Get files (true) or just query images (false).  
    Default is true.  
    'GetN'    - Get specific image {'all','last','first'}.  
    Default is 'all'.  
    'ImType'  - ZTF image type to query: 'sci' | 'raw' | 'cal'.  
    Default is 'sci'.  
    'Product' - Image product type:  
    'log'|'mask'|'image'|'scilog'|'sex'|'dao'|'daopsf'|'diff'|'diffpsf'|...  
    Default is 'image'.  
    'Where'   - String containing WHERE clause (e.g.,  
    'field=600 and ccdid=2'). Default is ''.  
    'Intersect'- Options are: 'COVERS' | 'ENCLOSED' | 'CENTER' |  
    'OVERLAPS'.  
    Default is 'OVERLAPS'.  
    'Size'    - Position search size (heiht, [width]) [deg].  
    Default is 0.  
    'queryPar'- Cell array of additional key,val parameters to  
    pass to VO.ZTF.irsa_query_ztf_images.  
    'constructPar'- Cell array of additional key,val parameters to  
    pass to VO.ZTF.irsa_image_link.  
    'User'    - String containing the IRSA/IPAC user name, or a  
    a cell array containing a file name of user/pass.  
    Default is  
    {'/home/eran/matlab/passwords/ztf_ipac_pass'}.  
    'Pass'    - String containing the IRSA/IPAC password,.  
    Default is [].  
    'pwgetExtra'- Extra parameter to pass to www.pwget.  
    Default is 'no-check-certificate load-cookies=cookies.txt'.  
    'MaxGet'  - Max parallel wget to pass to www.pwget.  
    Default is 15.  
    Output : - Cell array of retrieved file names.  
    - Cell array of links.  
    - Structure array of image properties.  
    - AstCat object containing the queried table.  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Nov 2017  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: [Files,Links,Prop,Cat]=VO.ZTF.wget_ztf_images_irsa(358./RAD,23./RAD);  
    Files = VO.ZTF.wget_ztf_images_irsa([],[],'Where','field=600 and ccdid=2','ImType','raw');  
    [Files,Links] = VO.ZTF.wget_ztf_images_irsa([],[],'Where','field=600 and ccdid=2','ImType','sci','Product','diff','GetFiles',false);  
    Reliable: 2  
      
      
      
### VO.ZTF.wget_ztf_phot

wget photometry and astrometry of a source/s from IRSA database. Package: VO.ZTF Description: wget photometry and astrometry of a source/s from IRSA database.


    
    wget photometry and astrometry of a source/s from IRSA database.  
    Package: VO.ZTF  
    Description: wget photometry and astrometry of a source/s from IRSA  
    database.  
    Input  : - Vector of J2000.0 R.A. [default in deg].  
    - Vector of J2000.0 Dec. [default in deg].  
    - Vector of Band names in a cell array or a vector of numbers  
    corresponding to band names.  
    'g' - 1; 'r' - 2; 'i' - 3  
    * Arbitrary number of pairs of arguments: ...,keyword,value,...  
    where keyword are one of the followings:  
    'CooUnits' - {'deg'|'rad'}. Default is 'deg'.  
    'Radius'   - Search radius. Default is 5.  
    'RadiusUnits'- Radius units. Default is 'arcsec'.  
    'User'     - User name. See io.files.read_user_pass_file  
    for options.  
    'Pass'     - Password.  
    More hidden parameters.  
    Output : - A table containing the ZTF photometry.  
    - String containing the XML table.  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Sep 2019  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Reference: https://irsa.ipac.caltech.edu/docs/program_interface/ztf_lightcurve_api.html  
    Example: [Table,Str]=VO.ZTF.wget_ztf_phot(298.0025,29.87147,1);  
    Reliable: 2  
      
      
### VO.ZTF.ztf_filename2prop

Extract information from ZTF file name Package: +VO/+ZTF Description: Extract information and image properties from ZTF file name.


    
    Extract information from ZTF file name  
    Package: +VO/+ZTF  
    Description: Extract information and image properties from ZTF file name.  
    Input  : - ZTF File name, or a cell array of ZTF file name.  
    Output : - A structure array with the following fields:  
    'FileType'  
    'Field'  
    'Filter'  
    'CCDID'  
    'QuadID'  
    'Year'  
    'Month'  
    'Day'  
    'Frac'  
    'JD'  
    License: GNU general public license version 3  
    By : Eran O. Ofek                    Oct 2019  
    URL : http://weizmann.ac.il/home/eofek/matlab/  
    Example: [Prop]=VO.ZTF.ztf_filename2prop('ztf_20180815258044_000686_zr_c01_o_q1_psfcat.fits');  
    Reliable: 2  
      
      
      
